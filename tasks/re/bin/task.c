//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2019 Retargetable Decompiler <info@retdec.com>
//

#include <stdint.h>
#include <stdlib.h>
#include <string.h>

// ------------------------ Structures ------------------------

struct _Unwind_Exception {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t __do_global_dtors_aux(void);
int64_t __libc_csu_fini(void);
int64_t __libc_csu_init(int64_t a1, int64_t a2, int64_t a3);
int64_t _fini(void);
int64_t _GLOBAL__sub_I_d(void);
int64_t _init(void);
int64_t _start(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int64_t _Z41__static_initialization_and_destruction_0ii(int64_t a1, int64_t a2);
int64_t _Z5checkNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1);
int64_t _Z6check1NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1);
int64_t _Z6check2NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1);
int64_t _Z6check3NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1);
int64_t _Z6check4NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1);
int64_t _Z6check5NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1);
int64_t _ZSteqIcSt11char_traitsIcESaIcEEbRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS5_(int64_t * a1, char * a2);
int64_t deregister_tm_clones(void);
int64_t frame_dummy(void);
int64_t function_1030(int64_t a1, int64_t a2);
int64_t function_1040(int64_t * a1);
int64_t function_1050(int64_t * a1, int64_t a2, int64_t a3);
int64_t function_1060(int64_t * a1);
int32_t function_1070(void (*func)(int64_t *), int64_t * arg, int64_t * dso_handle);
int64_t function_1080(int64_t * a1, char * a2);
int64_t function_1090(int64_t * a1, int64_t a2, int64_t a3, int64_t a4);
int64_t function_10a0(int64_t a1, int64_t a2);
int64_t function_10b0(int64_t * a1);
int64_t function_10c0(int64_t * a1, int64_t * a2);
int64_t function_10d0(int64_t * a1, char * a2, int64_t * a3);
int64_t function_10e0(int64_t * a1);
int32_t function_10f0(char * s1, char * s2);
int64_t function_1100(int64_t a1);
int64_t function_1110(int64_t a1);
void function_1120(struct _Unwind_Exception * object);
int64_t function_1130(int64_t * a1);
void function_1140(int64_t * d);
int64_t register_tm_clones(void);

// --------------------- Global Variables ---------------------

int64_t g1 = 0x1230;
int64_t g2 = 0x11f0;
void (*g3)(int64_t *) = NULL;
int64_t g4; // 0x40a8
int64_t g5 = 0;
int64_t g6 = 0;
char g7 = 0;
int64_t g8; // 0x42f9
int64_t g9 = 0; // rax
int64_t g10 = 0; // rsp
int32_t g11;

// ------------------------ Functions -------------------------

// Address range: 0x1000 - 0x1017
int64_t _init(void) {
    // 0x1000
    int64_t result; // 0x1016
    if (*(int64_t *)0x3fe8 != 0) {
        // 0x1010
        __gmon_start__();
        result = &g11;
    } else {
        result = 0;
    }
    // 0x1012
    return result;
}

// Address range: 0x1030 - 0x1036
int64_t function_1030(int64_t a1, int64_t a2) {
    // 0x1030
    return _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7compareEPKc();
}

// Address range: 0x1040 - 0x1046
int64_t function_1040(int64_t * a1) {
    // 0x1040
    return _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv();
}

// Address range: 0x1050 - 0x1056
int64_t function_1050(int64_t * a1, int64_t a2, int64_t a3) {
    // 0x1050
    return _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_();
}

// Address range: 0x1060 - 0x1066
int64_t function_1060(int64_t * a1) {
    // 0x1060
    return _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev();
}

// Address range: 0x1070 - 0x1076
int32_t function_1070(void (*func)(int64_t *), int64_t * arg, int64_t * dso_handle) {
    // 0x1070
    return __cxa_atexit(func, arg, dso_handle);
}

// Address range: 0x1080 - 0x1086
int64_t function_1080(int64_t * a1, char * a2) {
    // 0x1080
    return _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc();
}

// Address range: 0x1090 - 0x1096
int64_t function_1090(int64_t * a1, int64_t a2, int64_t a3, int64_t a4) {
    // 0x1090
    return _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6substrEmm();
}

// Address range: 0x10a0 - 0x10a6
int64_t function_10a0(int64_t a1, int64_t a2) {
    // 0x10a0
    return _ZNSolsEPFRSoS_E();
}

// Address range: 0x10b0 - 0x10b6
int64_t function_10b0(int64_t * a1) {
    // 0x10b0
    return _ZNSaIcED1Ev();
}

// Address range: 0x10c0 - 0x10c6
int64_t function_10c0(int64_t * a1, int64_t * a2) {
    // 0x10c0
    return _ZStrsIcSt11char_traitsIcESaIcEERSt13basic_istreamIT_T0_ES7_RNSt7__cxx1112basic_stringIS4_S5_T1_EE();
}

// Address range: 0x10d0 - 0x10d6
int64_t function_10d0(int64_t * a1, char * a2, int64_t * a3) {
    // 0x10d0
    return _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EPKcRKS3_();
}

// Address range: 0x10e0 - 0x10e6
int64_t function_10e0(int64_t * a1) {
    // 0x10e0
    return _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev();
}

// Address range: 0x10f0 - 0x10f6
int32_t function_10f0(char * s1, char * s2) {
    // 0x10f0
    return strcmp(s1, s2);
}

// Address range: 0x1100 - 0x1106
int64_t function_1100(int64_t a1) {
    // 0x1100
    return _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6lengthEv();
}

// Address range: 0x1110 - 0x1116
int64_t function_1110(int64_t a1) {
    // 0x1110
    return _ZNSt8ios_base4InitC1Ev();
}

// Address range: 0x1120 - 0x1126
void function_1120(struct _Unwind_Exception * object) {
    // 0x1120
    _Unwind_Resume(object);
}

// Address range: 0x1130 - 0x1136
int64_t function_1130(int64_t * a1) {
    // 0x1130
    return _ZNSaIcEC1Ev();
}

// Address range: 0x1140 - 0x1146
void function_1140(int64_t * d) {
    // 0x1140
    __cxa_finalize(d);
}

// Address range: 0x1150 - 0x117b
int64_t _start(int64_t a1, int64_t a2, int64_t a3, int64_t a4) {
    // 0x1150
    int64_t v1;
    __libc_start_main(0x173e, (int32_t)a4, (char **)&v1, (void (*)())0x1940, (void (*)())0x19a0, (void (*)())a3);
    __asm_hlt();
    // UNREACHABLE
}

// Address range: 0x1180 - 0x11a9
int64_t deregister_tm_clones(void) {
    // 0x1180
    return &g5;
}

// Address range: 0x11b0 - 0x11e9
int64_t register_tm_clones(void) {
    // 0x11b0
    return 0;
}

// Address range: 0x11f0 - 0x1229
int64_t __do_global_dtors_aux(void) {
    // 0x11f0
    if (g7 != 0) {
        // 0x1228
        int64_t result; // rax
        return result;
    }
    if (*(int64_t *)0x3fc8 != 0) {
        // 0x1207
        __cxa_finalize((int64_t *)*(int64_t *)0x40a8);
    }
    // 0x1213
    g7 = 1;
    return deregister_tm_clones();
}

// Address range: 0x1230 - 0x1235
int64_t frame_dummy(void) {
    // 0x1230
    return register_tm_clones();
}

// Address range: 0x1235 - 0x12e7
// Demangled:     check5(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)
int64_t _Z6check5NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1) {
    // 0x1235
    int64_t v1; // bp-72
    function_1090(&v1, (int64_t)a1, 20, 5);
    int64_t str2 = g10 - 1 & -16; // 0x1284
    *(int32_t *)str2 = 0x6565655f;
    *(int16_t *)(str2 + 4) = 125;
    int64_t str = function_1040(&v1); // 0x12a7
    int64_t result = strcmp((char *)str, (char *)str2) == 0;
    function_1060(&v1);
    return result;
}

// Address range: 0x12e7 - 0x13fb
// Demangled:     check4(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)
int64_t _Z6check4NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1) {
    int64_t v1 = (int64_t)a1; // 0x12f3
    int64_t v2; // bp-136
    function_1090(&v2, v1, 15, 5);
    int64_t str2 = g10 - 1 & -16; // 0x133f
    *(int32_t *)str2 = 0x7334316b;
    *(int16_t *)(str2 + 4) = 99;
    int64_t str = function_1040(&v2); // 0x1362
    int64_t result; // rbx
    if (strcmp((char *)str, (char *)str2) != 0) {
        // 0x13b5
        result = 0;
    } else {
        // 0x1382
        int64_t v3; // bp-104
        function_1050(&v3, v1, v1);
        result = _Z6check5NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(&v3);
        function_1060(&v3);
    }
    // 0x13ba
    function_1060(&v2);
    return result;
}

// Address range: 0x13fb - 0x1503
// Demangled:     check3(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)
int64_t _Z6check3NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1) {
    int64_t v1 = (int64_t)a1; // 0x1404
    int64_t v2; // bp-104
    function_1090(&v2, v1, 10, 5);
    int64_t str2 = g10 - 1 & -16; // 0x144a
    *(int32_t *)str2 = 0x3237315f;
    *(int16_t *)(str2 + 4) = 97;
    int64_t str = function_1040(&v2); // 0x146d
    int64_t result; // rbx
    if (strcmp((char *)str, (char *)str2) != 0) {
        // 0x14bd
        result = 0;
    } else {
        // 0x148d
        int64_t v3; // bp-72
        function_1050(&v3, v1, v1);
        result = _Z6check4NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(&v3);
        function_1060(&v3);
    }
    // 0x14c2
    function_1060(&v2);
    return result;
}

// Address range: 0x1503 - 0x160b
// Demangled:     check2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)
int64_t _Z6check2NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1) {
    int64_t v1 = (int64_t)a1; // 0x150c
    int64_t v2; // bp-104
    function_1090(&v2, v1, 5, 5);
    int64_t str2 = g10 - 1 & -16; // 0x1552
    *(int32_t *)str2 = 0x66656566;
    *(int16_t *)(str2 + 4) = 97;
    int64_t str = function_1040(&v2); // 0x1575
    int64_t result; // rbx
    if (strcmp((char *)str, (char *)str2) != 0) {
        // 0x15c5
        result = 0;
    } else {
        // 0x1595
        int64_t v3; // bp-72
        function_1050(&v3, v1, v1);
        result = _Z6check3NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(&v3);
        function_1060(&v3);
    }
    // 0x15ca
    function_1060(&v2);
    return result;
}

// Address range: 0x160b - 0x16c0
// Demangled:     check1(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)
int64_t _Z6check1NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1) {
    int64_t v1 = (int64_t)a1; // 0x1614
    int64_t v2; // bp-88
    function_1090(&v2, v1, 0, 5);
    int64_t v3 = _ZSteqIcSt11char_traitsIcESaIcEEbRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS5_(&v2, "flag{"); // 0x1640
    int64_t result; // rbx
    if ((char)v3 == 0) {
        // 0x1679
        result = 0;
    } else {
        // 0x1649
        int64_t v4; // bp-56
        function_1050(&v4, v1, v1);
        result = _Z6check2NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(&v4);
        function_1060(&v4);
    }
    // 0x167e
    function_1060(&v2);
    return result;
}

// Address range: 0x16c0 - 0x173e
// Demangled:     check(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)
int64_t _Z5checkNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(int64_t * a1) {
    int64_t v1 = (int64_t)a1; // 0x16c9
    int64_t result; // 0x1705
    if (function_1100(v1) == 25) {
        // 0x16eb
        int64_t v2; // bp-56
        function_1050(&v2, v1, v1);
        result = _Z6check1NSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(&v2);
        function_1060(&v2);
    } else {
        result = 0;
    }
    // 0x1719
    return result;
}

// Address range: 0x173e - 0x18a9
int main(int argc, char ** argv) {
    // 0x173e
    int64_t v1; // bp-136
    int64_t v2 = &v1; // 0x1743
    int64_t v3; // bp-57
    function_1130(&v3);
    int64_t v4; // bp-104
    function_10d0(&v4, "flag{soo_simple}", &v3);
    function_10b0(&v3);
    function_1080(&g5, "Hello! Enter flag to check: ");
    function_10e0(&v1);
    function_10c0(&g6, &v1);
    int64_t v5; // bp-56
    function_1050(&v5, v2, v2);
    int64_t v6 = _Z5checkNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(&v5); // 0x17c2
    function_1060(&v5);
    if ((char)v6 == 0) {
        int64_t v7 = function_1080(&g5, "Nope! Wrong!"); // 0x1811
        function_10a0(v7, *(int64_t *)0x3fd0);
    } else {
        int64_t v8 = function_1080(&g5, "Nice! Correct!"); // 0x17e7
        function_10a0(v8, *(int64_t *)0x3fd0);
    }
    // 0x182b
    function_1060(&v1);
    function_1060(&v4);
    return 0;
}

// Address range: 0x18a9 - 0x18f2
// Demangled:     __static_initialization_and_destruction_0(int, int)
int64_t _Z41__static_initialization_and_destruction_0ii(int64_t a1, int64_t a2) {
    // 0x18a9
    if ((int32_t)a1 != 1) {
        // 0x18ef
        return g9;
    }
    // 0x18bd
    if ((int32_t)a2 == 0xffff) {
        // 0x18c6
        function_1110(0x42f9);
        g9 = __cxa_atexit(g3, &g8, &g4);
    }
    // 0x18ef
    return g9;
}

// Address range: 0x18f2 - 0x1907
int64_t _GLOBAL__sub_I_d(void) {
    // 0x18f2
    return _Z41__static_initialization_and_destruction_0ii(1, 0xffff);
}

// Address range: 0x1907 - 0x1931
int64_t _ZSteqIcSt11char_traitsIcESaIcEEbRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS5_(int64_t * a1, char * a2) {
    int64_t v1 = function_1030((int64_t)a1, (int64_t)a2); // 0x1925
    return (int64_t)((int32_t)v1 == 0) | v1 & -256;
}

// Address range: 0x1940 - 0x199d
int64_t __libc_csu_init(int64_t a1, int64_t a2, int64_t a3) {
    int64_t result = _init(); // 0x1968
    if (((int64_t)&g2 - (int64_t)&g1) / 8 != 0) {
        int64_t v1 = 0; // 0x19852
        while (v1 + 1 != ((int64_t)&g2 - (int64_t)&g1) / 8) {
            // 0x1978
            v1++;
        }
    }
    // 0x198e
    return result;
}

// Address range: 0x19a0 - 0x19a1
int64_t __libc_csu_fini(void) {
    // 0x19a0
    int64_t result; // rax
    return result;
}

// Address range: 0x19a4 - 0x19ad
int64_t _fini(void) {
    // 0x19a4
    int64_t result; // rax
    return result;
}

// --------------- Dynamically Linked Functions ---------------

// int __cxa_atexit(void(* func)(void *), void * arg, void * dso_handle);
// void __cxa_finalize(void * d);
// void __gmon_start__(void);
// int __libc_start_main(int *(main)(int, char **, char **), int argc, char ** ubp_av, void(* init)(void), void(* fini)(void), void(* rtld_fini)(void), void(* stack_end));
// void _Unwind_Resume(struct _Unwind_Exception * object);
// int64_t _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(void);
// int64_t _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6lengthEv(void);
// int64_t _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6substrEmm(void);
// int64_t _ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7compareEPKc(void);
// int64_t _ZNSaIcEC1Ev(void);
// int64_t _ZNSaIcED1Ev(void);
// int64_t _ZNSolsEPFRSoS_E(void);
// int64_t _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EPKcRKS3_(void);
// int64_t _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(void);
// int64_t _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(void);
// int64_t _ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(void);
// int64_t _ZNSt8ios_base4InitC1Ev(void);
// int64_t _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(void);
// int64_t _ZStrsIcSt11char_traitsIcESaIcEERSt13basic_istreamIT_T0_ES7_RNSt7__cxx1112basic_stringIS4_S5_T1_EE(void);
// int strcmp(const char * s1, const char * s2);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (9.2.1)
// Detected language: C++
// Detected functions: 37
// Decompilation date: 2019-12-10 03:23:59
